{% extends 'base.html' %}

{% block title %}{{ title }} - AdminiRed{% endblock %}

{% block content %}
<div class="section">
    <div style="margin-bottom: 1.5rem;">
        <h2><i class="fas fa-boxes"></i> {{ title }}</h2>
        <a href="{% url 'inventario:material_list' %}" style="color: #667eea; text-decoration: none; font-size: 0.9rem;">
            <i class="fas fa-arrow-left"></i> Volver a Inventario
        </a>
    </div>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert {% if message.tags == 'error' %}alert-danger{% elif message.tags == 'success' %}alert-success{% else %}alert-info{% endif %}" style="margin-bottom: 1rem;">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    <form method="post" style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1);">
        {% csrf_token %}
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            <div class="form-group">
                <label for="{{ form.nombre.id_for_label }}">Nombre *</label>
                {{ form.nombre }}
                {% if form.nombre.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.nombre.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.codigo.id_for_label }}">Código *</label>
                {{ form.codigo }}
                {% if form.codigo.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.codigo.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.categoria.id_for_label }}">Categoría</label>
                {{ form.categoria }}
                {% if form.categoria.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.categoria.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="{{ form.descripcion.id_for_label }}">Descripción</label>
                {{ form.descripcion }}
                {% if form.descripcion.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.descripcion.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.stock_actual.id_for_label }}">Stock Actual *</label>
                {{ form.stock_actual }}
                {% if form.stock_actual.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.stock_actual.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.stock_minimo.id_for_label }}">Stock Mínimo *</label>
                {{ form.stock_minimo }}
                {% if form.stock_minimo.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.stock_minimo.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.unidad_medida.id_for_label }}">Unidad de Medida *</label>
                {{ form.unidad_medida }}
                {% if form.unidad_medida.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.unidad_medida.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.precio_compra.id_for_label }}">Precio de Compra</label>
                {{ form.precio_compra }}
                {% if form.precio_compra.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.precio_compra.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.precio_venta.id_for_label }}">Precio de Venta</label>
                {{ form.precio_venta }}
                {% if form.precio_venta.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.precio_venta.errors }}</div>
                {% endif %}
            </div>
            
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="{{ form.ubicacion.id_for_label }}">Ubicación en Almacén</label>
                {{ form.ubicacion }}
                {% if form.ubicacion.errors %}
                    <div style="color: #ef4444; font-size: 0.875rem; margin-top: 0.25rem;">{{ form.ubicacion.errors }}</div>
                {% endif %}
            </div>
        </div>
        
        <div style="margin-top: 1.5rem; display: flex; gap: 1rem; justify-content: flex-end;">
            <button type="submit" class="btn">
                <i class="fas fa-save"></i> Guardar
            </button>
            <a href="{% url 'inventario:material_list' %}" class="btn btn-secondary">
                <i class="fas fa-times"></i> Cancelar
            </a>
        </div>
    </form>
</div>
{% endblock %}

