{% extends 'base.html' %}

{% block title %}Marcar como Pagado - AdminiRed{% endblock %}

{% block content %}
<div class="section">
    <div style="background: white; padding: 2rem; border-radius: 12px; box-shadow: 0 2px 8px rgba(0,0,0,0.1); max-width: 600px; margin: 0 auto;">
        <h2 style="color: #10b981; margin-bottom: 1.5rem;"><i class="fas fa-check-circle"></i> Marcar como Pagado</h2>
        
        <div style="background: #f8f9fa; padding: 1.5rem; border-radius: 8px; margin-bottom: 1.5rem;">
            <div style="margin-bottom: 0.75rem;">
                <strong>Cliente:</strong> {{ pago.cliente.nombre_completo }}
            </div>
            <div style="margin-bottom: 0.75rem;">
                <strong>Concepto:</strong> {{ pago.concepto }}
            </div>
            <div style="margin-bottom: 0.75rem;">
                <strong>Monto:</strong> ${{ pago.monto|floatformat:2 }}
            </div>
            <div>
                <strong>Fecha de Vencimiento:</strong> {{ pago.fecha_vencimiento|date:"d/m/Y" }}
            </div>
        </div>
        
        <form method="post">
            {% csrf_token %}
            
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="metodo_pago">Método de Pago</label>
                <select name="metodo_pago" id="metodo_pago" class="form-control">
                    <option value="">Seleccionar método...</option>
                    {% for metodo_code, metodo_name in metodos %}
                        <option value="{{ metodo_code }}">{{ metodo_name }}</option>
                    {% endfor %}
                </select>
            </div>
            
            <div class="form-group" style="margin-bottom: 1.5rem;">
                <label for="referencia_pago">Referencia de Pago (opcional)</label>
                <input type="text" name="referencia_pago" id="referencia_pago" class="form-control" placeholder="Número de transacción, referencia bancaria, etc.">
            </div>
            
            <div style="display: flex; gap: 1rem; justify-content: flex-end;">
                <a href="{% url 'pagos:pago_detail' pago.pk %}" class="btn btn-secondary">
                    <i class="fas fa-times"></i> Cancelar
                </a>
                <button type="submit" class="btn" style="background: #10b981;">
                    <i class="fas fa-check"></i> Marcar como Pagado
                </button>
            </div>
        </form>
    </div>
</div>
{% endblock %}



