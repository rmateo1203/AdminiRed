{% extends 'base.html' %}

{% block title %}{{ title }} - AdminiRed{% endblock %}

{% block content %}
<div class="section">
    <h2>{{ title }}</h2>
    
    {% if messages %}
        {% for message in messages %}
            <div class="alert {% if message.tags == 'error' %}alert-danger{% elif message.tags == 'success' %}alert-success{% else %}alert-info{% endif %}">
                {{ message }}
            </div>
        {% endfor %}
    {% endif %}
    
    <form method="post">
        {% csrf_token %}
        
        <div style="display: grid; grid-template-columns: repeat(auto-fit, minmax(300px, 1fr)); gap: 1.5rem;">
            <div class="form-group">
                <label for="{{ form.nombre.id_for_label }}">{{ form.nombre.label }}</label>
                {{ form.nombre }}
                {% if form.nombre.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.nombre.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.apellido1.id_for_label }}">{{ form.apellido1.label }}</label>
                {{ form.apellido1 }}
                {% if form.apellido1.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.apellido1.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.apellido2.id_for_label }}">{{ form.apellido2.label }} (opcional)</label>
                {{ form.apellido2 }}
                {% if form.apellido2.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.apellido2.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.telefono.id_for_label }}">{{ form.telefono.label }}</label>
                {{ form.telefono }}
                {% if form.telefono.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.telefono.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.email.id_for_label }}">{{ form.email.label }} (opcional)</label>
                {{ form.email }}
                {% if form.email.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.email.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.estado_cliente.id_for_label }}">{{ form.estado_cliente.label }}</label>
                {{ form.estado_cliente }}
                {% if form.estado_cliente.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.estado_cliente.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="{{ form.direccion.id_for_label }}">{{ form.direccion.label }}</label>
                {{ form.direccion }}
                {% if form.direccion.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.direccion.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.ciudad.id_for_label }}">{{ form.ciudad.label }}</label>
                {{ form.ciudad }}
                {% if form.ciudad.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.ciudad.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.estado.id_for_label }}">{{ form.estado.label }}</label>
                {{ form.estado }}
                {% if form.estado.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.estado.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group">
                <label for="{{ form.codigo_postal.id_for_label }}">{{ form.codigo_postal.label }} (opcional)</label>
                {{ form.codigo_postal }}
                {% if form.codigo_postal.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.codigo_postal.errors }}
                    </div>
                {% endif %}
            </div>
            
            <div class="form-group" style="grid-column: 1 / -1;">
                <label for="{{ form.notas.id_for_label }}">{{ form.notas.label }} (opcional)</label>
                {{ form.notas }}
                {% if form.notas.errors %}
                    <div style="color: #ef4444; font-size: 0.9rem; margin-top: 0.5rem;">
                        {{ form.notas.errors }}
                    </div>
                {% endif %}
            </div>
        </div>
        
        <div class="form-actions">
            <button type="submit" class="btn">ðŸ’¾ Guardar</button>
            {% if cliente %}
                <a href="{% url 'clientes:cliente_detail' cliente.pk %}" class="btn btn-secondary">Cancelar</a>
            {% else %}
                <a href="{% url 'clientes:cliente_list' %}" class="btn btn-secondary">Cancelar</a>
            {% endif %}
        </div>
    </form>
</div>
{% endblock %}


