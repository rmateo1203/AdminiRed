{% extends "admin/change_form.html" %}
{% load static %}

{% block extrahead %}
    {{ block.super }}
    <script type="text/javascript">
        console.log('âœ… TEMPLATE PERSONALIZADO CARGADO - core/templates/admin/core/configuracionsistema/change_form.html');
        // Asegurar que los fieldsets sean visibles inicialmente
        document.addEventListener('DOMContentLoaded', function() {
            console.log('ðŸ“‹ Verificando fieldsets...');
            var fieldsets = document.querySelectorAll('fieldset.module, fieldset.collapse');
            console.log('ðŸ“Š Total de fieldsets encontrados:', fieldsets.length);
            fieldsets.forEach(function(fs, index) {
                var h2 = fs.querySelector('h2');
                var title = h2 ? h2.textContent.trim() : 'Sin tÃ­tulo';
                console.log('  Fieldset ' + index + ':', title);
            });
        });
    </script>
    <style>
        /* Estilos para las pestaÃ±as */
        .config-admin-tabs {
            border-bottom: 2px solid #ddd;
            margin: 20px 0 0 0;
            padding: 0;
            background: #fff;
        }
        .config-admin-tabs ul {
            list-style: none;
            margin: 0;
            padding: 0;
            display: flex;
            gap: 5px;
            padding-left: 10px;
        }
        .config-admin-tabs li {
            margin: 0;
        }
        .config-admin-tabs a {
            display: block;
            padding: 12px 20px;
            background: #f5f5f5;
            border: 1px solid #ddd;
            border-bottom: none;
            text-decoration: none;
            color: #666;
            font-weight: 500;
            border-radius: 4px 4px 0 0;
            transition: all 0.2s;
            cursor: pointer;
        }
        .config-admin-tabs a:hover {
            background: #e9e9e9;
            color: #333;
        }
        .config-admin-tabs a.active {
            background: white;
            color: #417690;
            border-color: #ddd;
            border-bottom-color: white;
            position: relative;
            top: 1px;
        }
        /* Mostrar todos los fieldsets por defecto hasta que el JS los organice */
        /* El JavaScript se encargarÃ¡ de ocultar/mostrar despuÃ©s de organizarlos */
        fieldset.module,
        fieldset.collapse {
            display: block !important;
        }
    </style>
    {% if extra_script %}
        {{ extra_script|safe }}
    {% endif %}
{% endblock %}

{% block content %}
    {{ block.super }}
{% endblock %}
